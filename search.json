[{"path":"https://chuckleong21.github.io/sample-criteria/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 sample.criteria authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/articles/sample-criteria.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"sample-criteria","text":"pmsampsize package provides tools determining minimum sample size required developing prediction model. vignette, ’ll explore use pmsampsize function.","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/articles/sample-criteria.html","id":"installation","dir":"Articles","previous_headings":"Introduction","what":"Installation","title":"sample-criteria","text":"can install sample.criteria package Github using following command: Usage package two main functions: pmsamplesize() approximate_R2(). pmsamplesize calculates sample criteria defined Riley (2018) binary outcome logistic regression models, extended Pate (2023) multinomial outcome logistic regression model. three kinds usage illustrated: binary outcome model C statistics outcome proportion reported; binary outcome model RCS2R^2_{CS} reported; multinomial outcome model distinct cohort models RCS_adj,k,r2R^2_{CS\\_adj,k,r} reported.","code":"# remotes::install_github(\"your.name/your.repository\")"},{"path":"https://chuckleong21.github.io/sample-criteria/articles/sample-criteria.html","id":"case-1-only-c-statistics-is-reported","dir":"Articles","previous_headings":"Introduction","what":"Case 1: Only C statistics is reported","title":"sample-criteria","text":"clinical studies, Cox-Snell R2R^2 often following issues: - Cox-Snell R-squared often criticized lack interpretability sensitivity censoring (event times unknown due follow-truncation). - consider actual distribution survival times shape hazard function. - Additionally, assumes proportional hazards assumption holds, may always case. can appropriate RCS2R^2_{CS} using C statistics event prevalence (outcome proportion). steps detailed Riley. can execute simulation following command: , can directly used calculating sample criteria since gotten another dataset. Assuming new model aimed consider 30 predictor parameters, applying sample size criteria Riley et al. Using pmsamplesize() minimum sample size 1129: Three criteria reported example. criterion targeting difference apprarent optimism adjusted RNagelkerke2R^2_{Nagelkerke} δ=0.05\\delta{}=0.05 larger example modeling future.","code":"library(sample.criteria) # Noted here that k = 2 for binary outcomes approximate_R2(k = 2, auc = 0.81, prev = 0.77) #> $R2.nagelkerke #> [1] 0.3231788 #>  #> $R2.coxsnell #> [1] 0.2132698 set.seed(1234) scriteria <- pmsamplesize(Q = 30, k = 2, auc = 0.81, prev = 0.77, r2_nagelkerke = 0.15) #> Warning in pmsamplesize(Q = 30, k = 2, auc = 0.81, prev = 0.77, r2_nagelkerke = #> 0.15): Inadequate information to calculate sample size for criterion 2 scriteria  #> NB: Assuming 0.05 acceptable difference in apparent & adjusted R-squared #> NB: Assuming 0.05 margin of error in estimation of intercept #> NB: Events per Predictor Parameter assumes prevalance 0.77 #>            sample_size shrinkage parameter CS_Rsq Max_Rsq Nag_Rsq   EPP #> Criteria 1        1130       0.9        30   0.21      NA    0.15 29.00 #> Criteria 3         273       0.9        30   0.21      NA    0.15  7.01 #> Final             1130       0.9        30   0.21      NA    0.15 29.00 #> Minimum sample size required for new model development based on user inputs = 1130, #>  with 870 events (assuming an outcome prevalence = 0.77) and an EPP = 29"},{"path":"https://chuckleong21.github.io/sample-criteria/articles/sample-criteria.html","id":"case-2-when-no-cox-snell-r2-is-reported","dir":"Articles","previous_headings":"Introduction","what":"Case 2: When No Cox-Snell R2R^2 is reported","title":"sample-criteria","text":"Event prevalences observed often. use information calculate apparent Cox-Snell R2R^2 using log-likelihood null model: lnLRnull=ElnEn+(n−E)ln1−EnlnLR_{null}=Eln{\\frac{E}{n}}+(n-E)ln{1-\\frac{E}{n}} E number outcome. Using following command, sample criteria calculate usual: , p argument must outcome proportions, denoted pkp_{k}. defailt, first element vector Y=0Y=0 group (benign) group. use helper function return outcome proportions taking number events different groups. , result reported minimum sample size 668 criterion 2.","code":"pmsamplesize(Q = 24, p = c(138 - 24, 24), r2_nagelkerke = 0.48) #> NB: Assuming 0.05 acceptable difference in apparent & adjusted R-squared #> NB: Assuming 0.05 margin of error in estimation of intercept #> NB: Events per Predictor Parameter assumes prevalance 0.174 #>            sample_size shrinkage parameter CS_Rsq Max_Rsq Nag_Rsq  EPP #> Criteria 1         623     0.900        24  0.288     0.6    0.48 4.51 #> Criteria 2         668     0.906        24  0.288     0.6    0.48 4.84 #> Criteria 3         221     0.900        24  0.288     0.6    0.48 1.60 #> Final              668     0.906        24  0.288     0.6    0.48 4.84 #> Minimum sample size required for new model development based on user inputs = 668, #>  with 116 events (assuming an outcome prevalence = 0.174) and an EPP = 4.84"},{"path":"https://chuckleong21.github.io/sample-criteria/articles/sample-criteria.html","id":"case-3-cohort-cox-snell-r2_cs_adjkr-approximation-with-c-statistics","dir":"Articles","previous_headings":"Introduction","what":"Case 3: Cohort Cox-Snell RCS_adj,k,r2R^2_{CS\\_adj,k,r} approximation with C statistics","title":"sample-criteria","text":"calculate criterion 1 minimum sample size, need cohort RCS_adj,k,r2R^2_{CS\\_adj,k,r} information, sometimes reported studies. can approximate using simulation approach put forward Riley et al. Estimates pairwise outcome proportions ϕk,r\\phi_{k,r} category k relative reference category r also required implement simulation approach. One can supply ϕk,r\\phi_{k,r} value argument , also left blank calculation done internally helper function . Pate’s example work executed following demand: Conclusion illustrations , package can easily calculate pre-defined sample criteria future modelling given kind information reported various studies.","code":"# Note the prev argument is not default to NULL set.seed(101) a <- pmsamplesize(Q = 17,              k = 5,              p = c(0.729, 0.053, 0.05, 0.133, 0.034),              r2_nagelkerke = 0.15,              shrinkage = 0.9,              auc = c(0.85, 0.92, 0.99, 0.95, 0.75, 0.95, 0.87, 0.87, 0.71, 0.82))"},{"path":"https://chuckleong21.github.io/sample-criteria/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jingwen Sun. Author, maintainer.","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Pate (2023). “Minimum sample size developing multivariable prediction model using multinomial logistic regression.” Statistical Methods Medical Research, 32(3), 555-571. doi:10.1177/09622802231151220. Riley R (2019). “Minimum sample size developing multivariable prediction model: PART II - binary time--event outcomes.” Statistics Medicine, 38, 1276-1296. doi:10.1002/sim.7992. Riley R (2020). “note estimating Cox-Snell R2 reported Cstatistic (AUROC) inform sample size calculations fordeveloping prediction model binary outcome.” Statistics Medicine, 40, 859–864. doi:10.1002/sim.8806.","code":"@Article{pmsamplesize-multinomial,   title = {Minimum sample size for developing a multivariable prediction model using multinomial logistic regression},   author = {Alexander Pate},   journal = {Statistical Methods in Medical Research},   year = {2023},   volume = {32},   number = {3},   pages = {555-571},   doi = {10.1177/09622802231151220}, } @Article{pmsamplesize-binary,   title = {Minimum sample size for developing a multivariable prediction model: PART II - binary and time-to-event outcomes},   author = {Richard Riley},   journal = {Statistics in Medicine},   year = {2019},   volume = {38},   pages = {1276-1296},   doi = {10.1002/sim.7992}, } @Article{r2-approx,   title = {A note on estimating the Cox-Snell R2 from a reported Cstatistic (AUROC) to inform sample size calculations fordeveloping a prediction model with a binary outcome},   author = {Richard Riley},   journal = {Statistics In Medicine},   year = {2020},   volume = {40},   pages = {859–864},   doi = {10.1002/sim.8806}, }"},{"path":"https://chuckleong21.github.io/sample-criteria/index.html","id":"samplecriteria","dir":"","previous_headings":"","what":"Criteria-based minimum sample size for multinomial logistic models","title":"Criteria-based minimum sample size for multinomial logistic models","text":"goal sample.criteria calculate minimum sample size based reported clinic prediction models future work.","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/index.html","id":"installaion","dir":"","previous_headings":"","what":"Installaion","title":"Criteria-based minimum sample size for multinomial logistic models","text":"package CRAN, install github:","code":"remotes::install_github(\"your.name/your.repository\")"},{"path":"https://chuckleong21.github.io/sample-criteria/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Criteria-based minimum sample size for multinomial logistic models","text":"calculate minimum sample provided C statistics outcome proportion reported binary outcome logistic regression model: learn usage cases, see vignette(\"sample-criteria\").","code":"library(sample.criteria)  set.seed(1234) pmsamplesize(Q = 30, k = 2, auc = 0.81, prev = 0.77)"},{"path":"https://chuckleong21.github.io/sample-criteria/reference/approximate_R2.html","id":null,"dir":"Reference","previous_headings":"","what":"R-sqaure approximation — approximate_R2","title":"R-sqaure approximation — approximate_R2","text":"\\(R^2\\) approximation based Riley's approach \\(R^2_{CS}\\) reported.","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/reference/approximate_R2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R-sqaure approximation — approximate_R2","text":"","code":"approximate_R2(k, auc, prev, n = 1e+06)"},{"path":"https://chuckleong21.github.io/sample-criteria/reference/approximate_R2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R-sqaure approximation — approximate_R2","text":"k scalar integer. number outcomes, \\(k\\geq{2}\\) auc double. Reported pairwise C-statistics prev double. outcome  reporting existing prediction model n integer. Simulation sample size. Default 1e6","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/reference/approximate_R2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"R-sqaure approximation — approximate_R2","text":"binary outcome, approximate_R2() bases  using rms package. returns list containing \\(R^2_{CS}\\) \\(R^2_{Nagelkerke}\\) multinomial models, Bernoulli simulation used, based ","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/reference/approximate_R2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"R-sqaure approximation — approximate_R2","text":"","code":"sim <- approximate_R2(k = 2, auc = 0.81, prev = 0.77) sim[[\"R2.coxsnell\"]] # coxsnell R2 #> [1] 0.2132698 sim[[\"R2.nagelkerke\"]] # nagerlkerke R2 #> [1] 0.3231788"},{"path":"https://chuckleong21.github.io/sample-criteria/reference/pmsamplesize.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Criteria Extension for Multinomial Regression — pmsamplesize","title":"Sample Criteria Extension for Multinomial Regression — pmsamplesize","text":"Calculate sample criteria extended multinominal regression.","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/reference/pmsamplesize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Criteria Extension for Multinomial Regression — pmsamplesize","text":"","code":"pmsamplesize(   Q,   k,   p,   adjust = FALSE,   r2_cs_app = NULL,   r2_cs_adj = NULL,   shrinkage = 0.9,   r2_nagelkerke = 0.15,   auc = NULL,   prev = NULL,   sigma = 0.05,   margin_error = 0.05 )"},{"path":"https://chuckleong21.github.io/sample-criteria/reference/pmsamplesize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample Criteria Extension for Multinomial Regression — pmsamplesize","text":"Q integer. number candidate predictors. See Details k integer. number levels response variable p numeric vector. Outcome proportion(s) event observations adjust logical. adjusted R-square value used? Default FALSE r2_cs_app numeric vector. apparent Cox-Snell \\(R^2\\) r2_cs_adj numeric vector. optimism-adjusted Cox-Snell \\(R^2\\) shrinkage pre-defined shrinkage factor. Default 0.9 r2_nagelkerke adjustment Cox-Snell \\(R^2\\). Default 0.15. auc numeric vector. Pairwise C statistics prev numeric vector. Outcome proportions categories relative reference sigma double. Tolerate rate adjusted \\(R^2\\) apparent \\(R^2\\). Default 0.05 margin_error double. divergence margin error specified Chi-square distribution's confidence level. Default 0.05","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/reference/pmsamplesize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample Criteria Extension for Multinomial Regression — pmsamplesize","text":"pmsample class object final: single row data frame representing selected criterion minimum sample size developing new model criteria: data frame containing sample sizes based three criteria. Divergences sample sizes due number rounding sigma: single numeric representing tolerate rate adjusted \\(R^2\\) apparent \\(R^2\\) margin_error: divergence margin error specified Chi-square distribution's confidence level","code":""},{"path":"https://chuckleong21.github.io/sample-criteria/reference/pmsamplesize.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Criteria Extension for Multinomial Regression — pmsamplesize","text":"pmsample objects created pmsamplesize can represent minimum sample size needed developing new model based current studies. pmsamplesize function adapts amount information based type model. certain parameters need pre-specifying calculation: number candidate predicators Q, usually obtained using fractional polynomial method addressed package. number levels response variable k, typically binary model k = 2, multinomial models k > 2. One argument k p, outcome proportions observation counts events, must specified. case missing k, defined length p. order p matters calculation: binary model, second value vector perceived 'outcome proportion' 'outcome events'. Pairwise C-statistics auc simulation. process requires estimates pairwise outcome proportions \\(\\phi_{k,r}\\) category k relative reference category r, prev. supplied, derived p.","code":""},{"path":[]},{"path":"https://chuckleong21.github.io/sample-criteria/reference/pmsamplesize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample Criteria Extension for Multinomial Regression — pmsamplesize","text":"","code":"# when only C statistics is reported in a binary model set.seed(1234) pmsamplesize(Q = 30, k = 2, r2_nagelkerke = 0.15, auc = 0.81, prev = 0.77) #> Warning: Inadequate information to calculate sample size for criterion 2 #> NB: Assuming 0.05 acceptable difference in apparent & adjusted R-squared #> NB: Assuming 0.05 margin of error in estimation of intercept #> NB: Events per Predictor Parameter assumes prevalance 0.77  #>            sample_size shrinkage parameter CS_Rsq Max_Rsq Nag_Rsq   EPP #> Criteria 1        1130       0.9        30   0.21      NA    0.15 29.00 #> Criteria 3         273       0.9        30   0.21      NA    0.15  7.01 #> Final             1130       0.9        30   0.21      NA    0.15 29.00 #> Minimum sample size required for new model development based on user inputs = 1130, #>  with 870 events (assuming an outcome prevalence = 0.77) and an EPP = 29"},{"path":"https://chuckleong21.github.io/sample-criteria/reference/sample.criteria-package.html","id":null,"dir":"Reference","previous_headings":"","what":"sample.criteria: Criteria-based minimum sample size for multinomial logistic models — sample.criteria-package","title":"sample.criteria: Criteria-based minimum sample size for multinomial logistic models — sample.criteria-package","text":"package facilitate derive minimum sample size binary multinomial logistic models clinic studies based three criteria. 1) fixed shrinkage rate based 2) adjusted shrinkage rate tolerate rate models based 3) Overall risk restrainted margin error distribution.","code":""},{"path":[]},{"path":"https://chuckleong21.github.io/sample-criteria/reference/sample.criteria-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sample.criteria: Criteria-based minimum sample size for multinomial logistic models — sample.criteria-package","text":"Maintainer: Jingwen Sun jingwen7841@gmail.com","code":""}]
